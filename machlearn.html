<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unsupervised Machine Learning</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin=""/>
    
    <!-- The CSS -->
    <link rel="stylesheet" type="text/css" href="static/css/style.css">

    <!-- Plotly and d3-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

</head>

<body>
    <div class="feature-box">
        <div class="header">
            <div class="col-sm-12">
		        <h1 class="main-title">Exploratory Analysis on Pipeline Incident Data</h1>
		        <nav class="navigation">
			        <ul>
				        <li class="nav-list">
					        <a href="index.html"
						        ::before>
						        Home
					        </a>
				        </li>
				        <li class="nav-list">
					        <a href="map.html"
						        ::before>
						        Interactive Spill Map
					        </a>
				        </li>
				        <li class="nav-list">
					        <a href="spillcharts.html"
						        ::before>
						        Spill Stats Charts
					        </a>
				        </li>
				        <li class="nav-list">
					        <a href="machlearn.html"
						        ::before>
						        Machine Learning Model
					        </a>
				        </li>
			        </ul>
		        </nav>
            </div>
        </div>
	</div>
    <br>
    <br>
    <section class="feature">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <div class="feature-box">
                        <h1>Unsupervised Machine Learning Model Summary</h1>
                        <p>In order to find commonalities amongst oil spills, we performed an unsupervised machine learning model to create clusters. We then compared each cluster to gain insights into similarities between oil spills since 2009. We included the main cause of each spill, whether the pressure exceeded maximum operating pressure (MOP), and the age of the facility at the time of the pill in our model. What we found is that there isnâ€™t a unique combination of these three factors that contribute to oil spills. The chart below shows the nine clusters, hovering your mouse over the data points shows which class each is in. The nine clusters consist of eight clusters for each cause where the pressure did not exceed MOP, regardless of age, and one for when the pressure exceeded MOP, regardless of cause or age.</p>
                <div class="col-md-12 col-sm-12">
                    <div id='scatter3d'></div>
                    <script src='Resources/ml_data.js'></script>
                    <script src='static/js/machcharts.js'></script>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    <div class="feature-box">
                        <h1>Model Development</h1>
                        <p>After cleaning and scaling the data, the first step in developing this model was to determine the appropriate number of principal components to use. This was done by increasing the number of components until the explained variance ratio of the components added up to 95%, which resulted in 8 principal components. This means that 95% of the variance in the model can be explained by having 8 components. Next, we created an elbow curve using Kmeans to determine the ideal number of clusters. According to the elbow curve, as seen below, our model required 9 clusters. Lastly, we fit the ran the model using 9 clusters, the results of which are described in the next section.</p>
            </div>
        </div>
        <div class="col-sm-6 nopadding">  
            <div id='elbow_curve'>
                <img src="Analysis/Images/ML_Elbow_Curve.png">
            </div>
        </div><!-- End col-md-6 -->

        <section class="feature">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                        <div class="feature-box">
                            <h1>Cluster Details</h1>
                            <p>The age of the facility does not appear to have an impact as a wide range of ages can be seen in each cluster. The cluster with the most data points was class 1, and it consists of the equipment failure cause.  Similarly, the class 2 cluster consists of the corrosion failure cause. The pictures below show the breakdown of the three elements in classes 1 and 2. One interesting difference between these two classes is the age breakdown. This is likely because corrosion takes time, so the ages of facilities experiencing corrosion failure are going to be older. The spills that happen due to equipment failure more closely match the overall age breakdown of all the spills in the dataset. Another interesting thing to note is that the general age of the spills in this data set are quite low. This can likely be attributed to improved record keeping recently.</p>
                    <div class="col-md-12 col-sm-12">
                        
                    </div>
                </div>
            </div>

        <section class="feature">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6">
                        <div class="feature-box">
                            <h1>Total Cause Count</h1>
                            <p>placeholder</p>
                    <div class="col-md-12 col-sm-12">
                        <div id='histogramchart'></div>
                        <div id='histogramchart2'></div>
                        <script src='Resources/ml_data.js'></script>
                        <script src='static/js/machcharts.js'></script>
                    </div>
                </div>
            </div>

        
<body>
    
    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>
    
</body>
</html>